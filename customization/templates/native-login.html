{# native-login.html - full custom template #}
{% extends "page.html" %}

{% block title %}CTSM JupyterHub{% endblock %}

{% block favicon %}
<link rel="icon" href="https://raw.githubusercontent.com/NicholasCote/cirrus-ctsm-jhub-ncote/main/customization/static/images/favicon.ico" type="image/x-icon">
{% endblock %}

{% block stylesheet %}
{{ super() }}
<link rel="stylesheet" href="/hub/static/custom/css/style.css">
{% endblock %}

{% block logo %}
<span id="jupyterhub-logo" class="navbar-brand d-flex align-items-center">
  <a href="https://jupyter.org/hub">
    <img src='{{ base_url }}logo' alt='JupyterHub logo' class='jpy-logo' title='Home' />
  </a>
  <a href="https://ncar.ucar.edu/">
    <img src="https://raw.githubusercontent.com/NicholasCote/cirrus-ctsm-jhub-ncote/main/customization/static/images/NSF-NCAR_Logo_Color-Blue_RGB.png" 
         alt="NCAR Logo" class="ncar-logo-navbar ms-3">
  </a>
</span>
{% endblock %}

{% block script %}
{{ super() }}
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        let button = document.getElementById('eye');
        button.addEventListener("click", function(e) {
            let pwd = document.getElementById("password_input");
            if (pwd.getAttribute("type") === "password") {
                pwd.setAttribute("type", "text");
                button.textContent = "üîë";
            } else {
                pwd.setAttribute("type", "password");
                button.textContent = "üëÅ";
            }
        });
    });

    if (window.location.protocol === "http:") {
        let warning = document.getElementById('insecure-login-warning');
        warning.className = warning.className.replace(/\bhidden\b/, '');
    }
</script>
{% endblock script %}

{% block main %}
{% block login %}
<div class="login-container">
    <div class="login-header">
        <h1>CTSM JupyterHub</h1>
        <p class="login-subtitle">Run CTSM Example Workflows</p>
    </div>

    <div id="login-main" class="container">
        <form action="{{login_url}}?next={{next}}" method="post" role="form">
            <div class="auth-form-header">Sign In</div>

            <div class='auth-form-body'>
                <p id='insecure-login-warning' class='hidden'>
                    Warning: JupyterHub seems to be served over an unsecured HTTP connection.
                </p>

                {% if login_error %}
                <p class="login_error">{{login_error}}</p>
                {% endif %}

                <input type="hidden" name="_xsrf" value="{{ xsrf }}"/>
                <label for="username_input">Username:</label>
                <input id="username_input" type="text" name="username" val="{{username}}" 
                       autocapitalize="off" autocorrect="off" class="form-control" 
                       autofocus="autofocus" required />

                <label for='password_input'>Password:</label>
                <div class="input-group">
                    <input id="password_input" type="password" name="password" 
                           autocapitalize="off" autocorrect="off" class="form-control" />
                    <span class="input-group-addon">
                        <button id="eye" type="button" style="border:0;">üëÅ</button>
                    </span>
                </div>

                <input type="submit" id="login_submit" class='btn btn-jupyter' value='Sign In' />

                <hr />
                <p><a href="{{ base_url }}signup">Sign up</a> to create a new user.</p>
            </div>
        </form>
    </div>
    
    <div class="jhub-help-text">
        <p>
            Need help? Visit 
            <a href="https://github.com/ESCOMP/CTSM" target="_blank">CTSM GitHub Repo</a>
            or email <a href="mailto:ctsm-project@ucar.edu">ctsm-project@ucar.edu</a>
        </p>
    </div>
</div>
{% endblock login %}
{% endblock main %}

{% block footer %}
<footer>
    <div class="org-footer">
        <div class="container-lg py-md-3">
            <div class="row">
                <div class="col-12 col-md-5 py-2">
                    <div class="accordion" id="accordionNCAR">
                        <div id="ncarHeader" class="d-flex justify-content-between">
                            <h3 class="text-light pb-md-2">NSF NCAR</h3>
                            <button class="btn text-light px-2 collapsed d-md-none" 
                                    data-bs-toggle="collapse" 
                                    data-bs-target="#ncarCollapseMenu" 
                                    aria-label="NCAR Organization" 
                                    aria-expanded="false" 
                                    aria-controls="ncarCollapseMenu">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div id="ncarCollapseMenu" class="collapse d-md-block" aria-labelledby="ncarHeader">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link" href="https://ncar.ucar.edu">NSF NCAR Homepage</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www2.acom.ucar.edu/">ACOM | Atmospheric Chemistry Observations &amp; Modeling</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.cgd.ucar.edu/">CGD Laboratory</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.cisl.ucar.edu">CISL | Computational &amp; Information Systems</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://edec.ucar.edu/">EdEC | Education, Engagement &amp; Early-Career Development</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.eol.ucar.edu/">EOL | Earth Observing Laboratory</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www2.hao.ucar.edu/">HAO | High Altitude Observatory</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.mmm.ucar.edu/">MMM | Mesoscale &amp; Microscale Meteorology</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://ral.ucar.edu/">RAL | Research Applications Laboratory</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="col-12 col-md py-2">
                    <div class="accordion" id="accordionUCAR">
                        <div id="ucarHeader" class="d-flex justify-content-between">
                            <h3 class="text-light pb-md-2">UCAR</h3>
                            <button class="btn px-2 text-light collapsed d-md-none" 
                                    data-bs-toggle="collapse" 
                                    data-bs-target="#ucarCollapseMenu" 
                                    aria-label="UCAR Organization" 
                                    aria-expanded="false" 
                                    aria-controls="ucarCollapseMenu">
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                        <div id="ucarCollapseMenu" class="collapse d-md-block" aria-labelledby="ucarHeader">
                            <ul class="nav flex-column">
                                <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu">UCAR Homepage</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/community-programs">Community Programs</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/what-we-offer/education-training">Education &amp; Training</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://sundog.ucar.edu/">For Staff</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/what-we-do/advocacy/office-government-relations">Government Relations &amp; External Engagement</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/who-we-are/membership">Member Institutions</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/what-we-do/tech-transfer-engagement">Tech Transfer &amp; Engagement</a></li>
                                <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/what-we-do/university-collaboration">University Collaboration</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="col-12 col-md py-2">
                    <div class="newsletter-signup">
                        <h3 class="text-light pb-md-2">Subscribe to NCAR|UCAR News</h3>
                        <div id="mc_embed_signup">
                            <form action="https://ucar.us4.list-manage.com/subscribe/post?u=289033ba2718c3aa3d2b2e76f&amp;id=80502e816e" 
                                  method="post" 
                                  id="mc-embedded-subscribe-form" 
                                  name="mc-embedded-subscribe-form" 
                                  class="validate" 
                                  target="_blank" 
                                  novalidate>
                                <div id="mc_embed_signup_scroll" class="input-group">
                                    <input type="email" 
                                           value="" 
                                           name="EMAIL" 
                                           class="form-control" 
                                           id="mce-EMAIL" 
                                           required 
                                           aria-label="Enter your email address to subscribe to the newsletter" 
                                           placeholder="Email address">
                                    <button class="btn btn-primary input-group-text" type="submit">Sign Up</button>
                                    <div style="position: absolute; left: -5000px;" aria-hidden="true">
                                        <label for="b_289033ba2718c3aa3d2b2e76f_80502e816e">Name</label>
                                        <input type="text" 
                                               name="b_289033ba2718c3aa3d2b2e76f_80502e816e" 
                                               tabindex="-1" 
                                               value="" 
                                               id="b_289033ba2718c3aa3d2b2e76f_80502e816e">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="social pt-4">
                        <h4 class="text-light">Follow NCAR|UCAR</h4>
                        <div class="social-icons text-light">
                            <a href="https://www.facebook.com/ncar.ucar" aria-label="Follow us on Facebook"><i class="fab fa-facebook-f"></i></a>
                            <a href="https://twitter.com/NCAR_Science" aria-label="Follow us on Twitter"><i class="fab fa-x-twitter"></i></a>
                            <a href="https://instagram.com/ncar_ucar" aria-label="Follow us on Instagram"><i class="fab fa-instagram"></i></a>
                            <a href="https://youtube.com/ncarucar" aria-label="Follow us on YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="legal-footer py-3">
        <div class="container-lg">
            <div class="row">
                <div class="col-12">
                    <p class="text-light copyright pe-md-2 mb-2">&copy; 2025 UCAR</p>
                    <ul class="nav flex-column flex-md-row">
                        <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/privacy-notice">Privacy</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/cookie-other-tracking-technologies-notice">Cookies</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/web-accessibility">Web Accessibility</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/terms-of-use">Terms of Use</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/notification-copyright-infringement-digital-millenium-copyright-act">Copyright Issues</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://nsf.gov">Sponsored by U.S. NSF</a></li>
                        <li class="nav-item"><a class="nav-link" href="https://www.ucar.edu/who-we-are/ethics">Report Ethics Concern</a></li>
                    </ul>
                </div>
                <div class="col-12 text-gray-light mt-2">
                    <span class="d-block d-md-inline pt-2 pt-md-0"><b>Postal Address:</b></span>
                    <span>P.O. Box 3000, Boulder, CO 80307-3000</span>
                    <span class="d-none d-md-inline">&bull;</span>
                    <span class="d-block d-md-inline pt-2 pt-md-0"><b>Shipping Address:</b></span>
                    <span>3090 Center Green Drive, Boulder, CO 80301</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="nsf-footer py-3">
        <div class="container-lg">
            <div class="row align-items-center">
                <div class="col-2 col-md-1 pb-3 pb-md-0 me-md-3">
                    <img src="https://www.cisl.ucar.edu/themes/custom/img/NSF_Official_logo.png" alt="NSF Logo" />
                </div>
                <div class="col-10 col-md-10 flex-md-grow-1">
                    <p class="mb-0">
                        This material is based upon work supported by the NSF National Center for Atmospheric Research, 
                        a major facility sponsored by the U.S. National Science Foundation and managed by the University 
                        Corporation for Atmospheric Research. Any opinions, findings and conclusions or recommendations 
                        expressed in this material do not necessarily reflect the views of the 
                        <a href="https://nsf.gov" target="_blank">U.S. National Science Foundation.</a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>
{% endblock %}